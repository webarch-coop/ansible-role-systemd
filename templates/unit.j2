# {{ systemd_ansible_managed }}

{% if systemd_file.comment is defined %}
# BEGIN ANSIBLE MANAGED BLOCK
{{ systemd_file.comment | ansible.builtin.comment }}
# END ANSIBLE MANAGED BLOCK
{% endif %}

{% if systemd_dictionary_depth == 2 %}
{% for systemd_section in systemd_file.conf | dict2items %}
[{{ systemd_section.key }}]
{% for systemd_variable_pair in systemd_section.value | dict2items %}
{{ systemd_variable_pair.key }}={{ systemd_variable_pair.value }}
{% endfor %}

{% endfor %}
{% else %} 
{% for systemd_variable_pair in systemd_file.conf | dict2items %}
{{ systemd_variable_pair.key }}={{ systemd_variable_pair.value }}
{% endfor %}
{% endif %}

# vim: ft=systemd:
